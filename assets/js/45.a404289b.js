(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{400:function(e,t,a){"use strict";a.r(t);var s=a(7),n=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"前言"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[e._v("#")]),e._v(" 前言")]),e._v(" "),t("blockquote",[t("p",[e._v("要使用 React Native，你需要对 JavaScript 基础知识有所了解。如果你是 JavaScript 新手或需要复习，你可以在 MDN 上"),t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript",target:"_blank",rel:"noopener noreferrer"}},[e._v("深入学习"),t("OutboundLink")],1),e._v("或"),t("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Language_Overview",target:"_blank",rel:"noopener noreferrer"}},[e._v("复习一下"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"环境搭建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#环境搭建"}},[e._v("#")]),e._v(" 环境搭建")]),e._v(" "),t("blockquote",[t("p",[e._v("我使用的是Windows系统，所以只针对Windows做记录")]),e._v(" "),t("p",[e._v("也可以参照官方文档"),t("a",{attrs:{href:"https://reactnative.cn/docs/environment-setup",target:"_blank",rel:"noopener noreferrer"}},[e._v("React开发环境搭建"),t("OutboundLink")],1),e._v(",按照步骤一步一步操作即可，"),t("code",[e._v("缺一不可")])]),e._v(" "),t("ul",[t("li",[e._v("必须安装的依赖有：Node、JDK 和 Android Studio。（缺一不可）")]),e._v(" "),t("li",[e._v("Node 的版本应大于等于 14")])])]),e._v(" "),t("blockquote",[t("ol",[t("li",[t("a",{attrs:{href:"https://developer.android.google.cn/studio/",target:"_blank",rel:"noopener noreferrer"}},[e._v("首先下载和安装 Android Studio"),t("OutboundLink")],1),e._v(",剩下的步骤完全可以参照官方文档一步一步操作")])])]),e._v(" "),t("h2",{attrs:{id:"reactnative启动命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#reactnative启动命令"}},[e._v("#")]),e._v(" ReactNative启动命令")]),e._v(" "),t("blockquote",[t("ul",[t("li",[e._v("开启 USB 调试")]),e._v(" "),t("li",[e._v("通过 USB 数据线连接设备\nadb devices：检查设备是否成功连接")]),e._v(" "),t("li",[e._v("运行应用")])]),e._v(" "),t("div",{staticClass:"language-react line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("yarn react-native run-android || yarn android 编译并运行 React Native 应用\nnpx react-native run-android只是运行应用的方式之一。你也可以在 Android Studio 中直接运行应用\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("p",[t("code",[e._v("建议在run-android成功后再尝试使用 Android Studio 启动。请不要轻易点击 Android Studio 中可能弹出的建议更新项目中某依赖项的建议，否则可能导致无法运行。")])])]),e._v(" "),t("h2",{attrs:{id:"调试命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#调试命令"}},[e._v("#")]),e._v(" 调试命令")]),e._v(" "),t("blockquote",[t("p",[t("code",[e._v("通过浏览器进行调试")])]),e._v(" "),t("ul",[t("li",[e._v('在开发者菜单中选择"Debug JS Remotely"选项，即可以开始在 Chrome 中调试 JavaScript 代码。点击这个选项的同时会自动打开调试页面 http://localhost:8081/debugger-ui.')]),e._v(" "),t("li",[e._v("在浏览器中打开开发者工具")])])]),e._v(" "),t("h2",{attrs:{id:"reactnative踩坑"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#reactnative踩坑"}},[e._v("#")]),e._v(" ReactNative踩坑")]),e._v(" "),t("blockquote",[t("ul",[t("li",[e._v("Hook 不婿在条件语句中使用hook函数")])]),e._v(" "),t("h2",{attrs:{id:"state-hook"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#state-hook"}},[e._v("#")]),e._v(" State Hook")]),e._v(" "),t("div",{staticClass:"language-react line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("import React, { useState } from 'react';\n\nfunction Example() {\n // 声明一个新的叫做 “count” 的 state 变量\n const [count, setCount] = useState(0);\n\n return (\n   <div>\n     <p>You clicked {count} times</p>\n     <button onClick={() => setCount(count + 1)}>\n       Click me\n     </button>\n   </div>\n );\n}\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br"),t("span",{staticClass:"line-number"},[e._v("12")]),t("br"),t("span",{staticClass:"line-number"},[e._v("13")]),t("br"),t("span",{staticClass:"line-number"},[e._v("14")]),t("br"),t("span",{staticClass:"line-number"},[e._v("15")]),t("br")])]),t("h2",{attrs:{id:"effect-hook"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#effect-hook"}},[e._v("#")]),e._v(" Effect Hook")]),e._v(" "),t("div",{staticClass:"language-react line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("h3",{attrs:{id:"通过跳过-effect-进行性能优化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通过跳过-effect-进行性能优化"}},[e._v("#")]),e._v(" 通过跳过 Effect 进行性能优化")]),e._v(" "),t("p",[e._v("如果某些特定值在两次重渲染之间没有发生变化，你可以通知 React "),t("strong",[e._v("跳过")]),e._v("对 effect 的调用，只要传递数组作为 "),t("code",[e._v("useEffect")]),e._v(" 的第二个可选参数即可")]),e._v(" "),t("div",{staticClass:"language-react line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("useEffect(() => {\n document.title = `You clicked ${count} times`;\n}, [count]); // 仅在 count 更改时更新\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br")])]),t("p",[e._v("上面这个示例中，我们传入 "),t("code",[e._v("[count]")]),e._v(" 作为第二个参数。这个参数是什么作用呢？如果 "),t("code",[e._v("count")]),e._v(" 的值是 "),t("code",[e._v("5")]),e._v("，而且我们的组件重渲染的时候 "),t("code",[e._v("count")]),e._v(" 还是等于 "),t("code",[e._v("5")]),e._v("，React 将对前一次渲染的 "),t("code",[e._v("[5]")]),e._v(" 和后一次渲染的 "),t("code",[e._v("[5]")]),e._v(" 进行比较。因为数组中的所有元素都是相等的("),t("code",[e._v("5 === 5")]),e._v(")，React 会跳过这个 effect，这就实现了性能的优化。")])])])}),[],!1,null,null,null);t.default=n.exports}}]);